package test

import (
	"fmt"
	"sns/internal"
	"testing"
)

func TestLoadConfig(t *testing.T) {
	internal.LoadConfig()
}

func TestParseStocks(t *testing.T) {
	raw := "var hq_str_sh600036=\"招商银行,56.000,55.950,55.120,56.080,54.880,55.120,55.130,14803202,817819824.000,3200,55.120,37600,55.110,31619,55.100,14400,55.090,12000,55.080,2600,55.130,3200,55.140,4500,55.150,44692,55.160,14200,55.170,2021-05-19,10:31:51,00,\";\nvar hq_str_sh601939=\"建设银行,6.970,6.970,6.920,6.970,6.910,6.920,6.930,16027914,111143217.000,6600,6.920,1739190,6.910,2638600,6.900,517500,6.890,645600,6.880,501910,6.930,1403505,6.940,1765370,6.950,1909700,6.960,2266470,6.970,2021-05-19,10:31:51,00,\";\nvar hq_str_sh512800=\"银行ETF,1.261,1.264,1.252,1.263,1.251,1.251,1.252,55336900,69423907.000,224800,1.251,7868200,1.250,6076700,1.249,2952000,1.248,432300,1.247,14000,1.252,2231900,1.253,2593000,1.254,2611000,1.255,434800,1.256,2021-05-19,10:31:51,00,\";\n"
	fmt.Println("stocks:", internal.ParseStocks(raw, []string{"sh600036", "sh601939", "sh512800"}))
}
